---
title: "Динамические цены"
description: "Как работает система динамического ценообразования"
---

# Система динамических цен

Ядром The Endex является алгоритм динамического ценообразования, который реагирует на спрос и предложение в реальном времени.

## Концепция

В отличие от традиционных магазинов, где цены фиксированы (статичны), The Endex автоматически корректирует цены:

- **Если игроки покупают**, запас (теоретический) уменьшается, а спрос растет -> **Цена растет**.
- **Если игроки продают**, запас увеличивается, а предложение растет -> **Цена падает**.

Это создает живую экономику, где игроки могут получать прибыль, покупая дешево и продавая дорого.

## Алгоритм ценообразования

Цена рассчитывается по формуле, учитывающей:

1. **Базовая цена**: Отправная точка, установленная администраторами.
2. **Волатильность**: Как быстро меняется цена.
3. **Объем**: Сколько предметов торгуется.
4. **Лимиты**: Минимальные и максимальные цены для предотвращения экстремальной инфляции/дефляции.

### Упрощенная формула

$$
P_{new} = P_{current} \times (1 + \frac{Volume \times Volatility}{Constant})
$$

## Настройка волатильности

Каждый предмет может иметь свою волатильность в `items.yml`.

- **Низкая волатильность (0.1 - 0.3)**: Стабильные цены, меняются медленно. Хорошо для базовых ресурсов (камень, дерево).
- **Средняя волатильность (0.4 - 0.7)**: Стандартные колебания. Хорошо для руд или дропа с мобов.
- **Высокая волатильность (0.8 - 1.5)**: Очень нестабильные цены, высокий риск и высокая награда. Хорошо для редких предметов.

```yaml
GOLD_INGOT:
  base-price: 50.0
  volatility: 0.5  # Средняя волатильность
```

## Лимиты цен

Чтобы защитить экономику, вы можете установить жесткие лимиты:

- `min-price`: Цена никогда не упадет ниже этого значения.
- `max-price`: Цена никогда не превысит это значение.

```yaml
DIAMOND:
  base-price: 100.0
  min-price: 20.0   # Никогда ниже 20
  max-price: 500.0  # Никогда выше 500
```

## Регенерация цен

Вы можете настроить цены так, чтобы они медленно возвращались к базовой цене со временем, если нет активности. Это предотвращает застревание цен в крайних значениях навсегда.

Включите это в `config.yml` в разделе `price-regeneration`.
