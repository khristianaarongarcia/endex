<!doctype html>
<html>
<head><meta charset="utf-8"><title>Endex Items (Read-only)</title></head>
<body>
  <h1>Endex Items via API Token</h1>
  <p>Set your API token below (configured in <code>web.api.tokens</code> or hashed via <code>web.api.token-hashes</code>) and click Load.</p>
  <input id="token" placeholder="API token" style="width:320px"/>
  <button id="load">Load Items</button>
  <pre id="out"></pre>
<script>
  document.getElementById('load').onclick = async () => {
    const token = document.getElementById('token').value.trim();
    const out = document.getElementById('out');
    out.textContent = 'Loading...';
    try {
      const r = await fetch('/api/items?token=' + encodeURIComponent(token));
      out.textContent = JSON.stringify(await r.json(), null, 2);
    } catch (e) {
      out.textContent = 'Error: ' + e.message;
    }
  };
</script>
</body>
</html>
